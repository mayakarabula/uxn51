<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<script src="etc/program.js"></script>
	<script src="src/emu.js"></script>
	<script src="src/uxn.js"></script>
</head>
<body>
	<input type="value" placeholder="#12 #34 ADD" name="prompt" id="prompt" autofocus/>
	<pre id="result"></pre>
	<script type="text/javascript">

		'use strict'

		let prompt_el = document.getElementById("prompt")
		let result_el = document.getElementById("result")
		let emulator = new Emu()

		// TODO: Load Unicycle.rom
		emulator.uxn.load(program).eval(0x0100)

		prompt_el.addEventListener("keydown", function (event) {
			if (event.key === "Enter") {
				event.preventDefault();
				// Send characters in value to Console/vector
				for (var i = 0; i < prompt_el.value.length; i++) {
					emulator.console.input(prompt_el.value.charAt(i).charCodeAt(0))
				}
				result_el.innerHTML = "Result:"+emulator.console.output
				// Read character from Console/write in element
			}
		})

	</script>
</body>
</html> 